import{d as T,r as d,a as U,o as m,c as C,b as S,t as W,e as x,F as j,f as O,g as V,w as X,h as z,i as D,j as q,n as G,k as H,l as y,m as g,_ as J}from"./index-X4yz_THj.js";const P={class:"five-letters"},Q={class:"five-letters__grid"},Y=["value","disabled","onInput","onKeydown"],a=5,Z=T({__name:"FiveLetters",setup($){const w=d("Ð½Ð°ÑÑ‚Ñ"),h=d(null),k=d(null),i=d(0),l=d(Array(a*6).fill("")),p=d(!1),I=d(!1),A=d(""),E=H(()=>{const s=[],e=Math.ceil(l.value.length/a);for(let o=0;o<e;o++){const f=o*a,r=f+a,n=l.value.slice(f,r);if(o===i.value&&!p.value){s.push(...Array(n.length).fill(""));continue}const t=w.value.split(""),c=Array(n.length).fill(""),v=Array(t.length).fill(!1);n.forEach((_,u)=>{_===t[u]&&(c[u]="five-letters__char_correct",v[u]=!0)}),n.forEach((_,u)=>{if(c[u])return;const b=t.findIndex((L,N)=>L===_&&!v[N]);b!==-1?(c[u]="five-letters__char_present",v[b]=!0):c[u]="five-letters__char_absent"}),s.push(...c)}return s}),B=(s,e)=>{l.value[e]=s.target.value,l.value[e]&&e<l.value.length-1?y(()=>{h.value[e+1]?.focus()}):!l.value[e]&&e>0&&y(()=>{h.value[e-1]?.focus()})},F=async s=>{await y();const e=s*a,o=e+a;h.value.slice(e,o).forEach((r,n)=>{const t=E.value[e+n];t&&(r.classList.add(t),t==="five-letters__char_correct"?g.fromTo(r,{rotateX:90},{rotateX:0,duration:.4,ease:"back.out(1.7)"}):t==="five-letters__char_present"?g.fromTo(r,{y:-10},{y:0,duration:.3,ease:"bounce.out"}):t==="five-letters__char_absent"&&g.fromTo(r,{opacity:.5},{opacity:1,duration:.3}))})},K=async()=>{if(p.value)return;const s=i.value*a,e=s+a,o=l.value.slice(s,e).join("");if(!(o.length<a)){if(o===w.value){R(M(i.value)),p.value=!0;return}await y(),F(i.value),R(M(i.value)),e>=l.value.length&&l.value.push(...Array(a).fill("")),p.value||(i.value++,await y(),h.value[i.value*a]?.focus())}},M=s=>{const e=s*a,o=e+a,f=l.value.slice(e,o),r=w.value.split(""),n=Array(r.length).fill(!1);let t=0,c=0;return f.forEach((v,_)=>{v===r[_]&&(t++,n[_]=!0)}),f.forEach((v,_)=>{if(v===r[_])return;const u=r.findIndex((b,L)=>b===v&&!n[L]);u!==-1&&(c++,n[u]=!0)}),t===a?"ðŸŽ‰ ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾! Ð¢Ñ‹ ÑƒÐ³Ð°Ð´Ð°Ð»Ð° ÑÐ²Ð¾Ñ‘ Ð¸Ð¼Ñ!":t>0&&c>0?`Ð•ÑÑ‚ÑŒ ${t} Ð½Ð° Ð¼ÐµÑÑ‚Ðµ Ð¸ ${c} Ð½Ðµ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ`:t>0?`Ð•ÑÑ‚ÑŒ ${t} Ð±ÑƒÐºÐ²Ñ‹ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ`:c>0?`Ð•ÑÑ‚ÑŒ ${c} Ð±ÑƒÐºÐ²Ñ‹ Ð² ÑÐ»Ð¾Ð²Ðµ, Ð½Ð¾ Ð½Ðµ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ`:"ÐÐ¸ Ð¾Ð´Ð½Ð¾Ð¹ Ð±ÑƒÐºÐ²Ñ‹ Ð½Ðµ ÑƒÐ³Ð°Ð´Ð°Ð½Ð¾"},R=s=>{A.value=s,I.value=!0,y(()=>{k.value&&(g.set(k.value,{y:-20,opacity:0,scale:.8}),g.to(k.value,{y:0,opacity:1,scale:1,duration:.5,ease:"back.out(1.7)"}))})};return(s,e)=>{const o=U("router-link");return m(),C("div",P,[e[1]||(e[1]=S("h2",{class:"five-letters__title"},"5 Ð‘Ð£ÐšÐ’",-1)),I.value?(m(),C("div",{key:0,ref_key:"messageRef",ref:k,class:"message-row"},W(A.value),513)):x("",!0),S("div",Q,[(m(!0),C(j,null,O(l.value,(f,r)=>(m(),C("input",{ref_for:!0,ref_key:"inputRefs",ref:h,value:f,class:G(["five-letters__char",E.value[r]]),maxlength:"1",disabled:p.value||Math.floor(r/a)!==i.value,onInput:n=>B(n,r),onKeydown:D(q(K,["prevent"]),["enter"])},null,42,Y))),256))]),p.value?(m(),V(o,{key:1,class:"five-letters__button",to:"/"},{default:X(()=>[...e[0]||(e[0]=[z(" Ð˜Ð´Ñ‘Ð¼ Ð´Ð°Ð»ÑŒÑˆÐµ ",-1)])]),_:1})):x("",!0)])}}}),ee=J(Z,[["__scopeId","data-v-c7fee9a1"]]),se=T({__name:"AboutView",setup($){return(w,h)=>(m(),V(ee))}});export{se as default};
