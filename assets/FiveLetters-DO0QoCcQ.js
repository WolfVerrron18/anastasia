import{d as U,r as d,c as L,b as A,t as W,i as j,F as x,h as O,e as X,B as z,o as b,j as B,k as $,n as D,l as q,m as p,g,_ as G}from"./index-CMjkgUTT.js";const H={class:"five-letters"},J={class:"five-letters__grid"},P=["value","disabled","onInput","onKeydown"],a=5,Q=U({__name:"FiveLetters",setup(Y){const k=d("Ð½Ð°ÑÑ‚Ñ"),y=d(null),m=d(null),f=d(0),n=d(Array(a*6).fill("")),h=d(!1),I=d(!1),E=d(""),M=q(()=>{const e=[],t=Math.ceil(n.value.length/a);for(let l=0;l<t;l++){const o=l*a,r=o+a,u=n.value.slice(o,r);if(l===f.value&&!h.value){e.push(...Array(u.length).fill(""));continue}const s=k.value.split(""),c=Array(u.length).fill(""),v=Array(s.length).fill(!1);u.forEach((_,i)=>{_===s[i]&&(c[i]="five-letters__char_correct",v[i]=!0)}),u.forEach((_,i)=>{if(c[i])return;const w=s.findIndex((C,N)=>C===_&&!v[N]);w!==-1?(c[i]="five-letters__char_present",v[w]=!0):c[i]="five-letters__char_absent"}),e.push(...c)}return e}),F=(e,t)=>{n.value[t]=e.target.value,n.value[t]&&t<n.value.length-1&&p(()=>{y.value[t+1]?.focus()})},T=e=>{n.value[e]="",!n.value[e]&&e>0&&p(()=>{y.value[e-1]?.focus()})},V=async e=>{await p();const t=e*a,l=t+a;y.value.slice(t,l).forEach((r,u)=>{const s=M.value[t+u];s&&(r.classList.add(s),s==="five-letters__char_correct"?g.fromTo(r,{rotateX:90},{rotateX:0,duration:.4,ease:"back.out(1.7)"}):s==="five-letters__char_present"?g.fromTo(r,{y:-10},{y:0,duration:.3,ease:"bounce.out"}):s==="five-letters__char_absent"&&g.fromTo(r,{opacity:.5},{opacity:1,duration:.3}))})},K=async()=>{if(h.value)return;const e=f.value*a,t=e+a,l=n.value.slice(e,t).join("");if(!(l.length<a)){if(l===k.value){S(R(f.value)),h.value=!0;return}await p(),V(f.value),S(R(f.value)),t>=n.value.length&&n.value.push(...Array(a).fill("")),h.value||(f.value++,await p(),y.value[f.value*a]?.focus())}},R=e=>{const t=e*a,l=t+a,o=n.value.slice(t,l),r=k.value.split(""),u=Array(r.length).fill(!1);let s=0,c=0;return o.forEach((v,_)=>{v===r[_]&&(s++,u[_]=!0)}),o.forEach((v,_)=>{if(v===r[_])return;const i=r.findIndex((w,C)=>w===v&&!u[C]);i!==-1&&(c++,u[i]=!0)}),s===a?"ðŸŽ‰ ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾! Ð¢Ñ‹ ÑƒÐ³Ð°Ð´Ð°Ð»Ð° ÑÐ²Ð¾Ñ‘ Ð¸Ð¼Ñ!":s>0&&c>0?`Ð•ÑÑ‚ÑŒ ${s} Ð½Ð° Ð¼ÐµÑÑ‚Ðµ Ð¸ ${c} Ð½Ðµ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ`:s>0?`Ð•ÑÑ‚ÑŒ ${s} Ð±ÑƒÐºÐ²Ñ‹ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ`:c>0?`Ð•ÑÑ‚ÑŒ ${c} Ð±ÑƒÐºÐ²Ñ‹ Ð² ÑÐ»Ð¾Ð²Ðµ, Ð½Ð¾ Ð½Ðµ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ`:"ÐÐ¸ Ð¾Ð´Ð½Ð¾Ð¹ Ð±ÑƒÐºÐ²Ñ‹ Ð½Ðµ ÑƒÐ³Ð°Ð´Ð°Ð½Ð¾"},S=e=>{E.value=e,I.value=!0,p(()=>{m.value&&(g.set(m.value,{y:-20,opacity:0,scale:.8}),g.to(m.value,{y:0,opacity:1,scale:1,duration:.5,ease:"back.out(1.7)"}))})};return(e,t)=>(b(),L("div",H,[t[0]||(t[0]=A("h2",{class:"five-letters__title"},"5 Ð‘Ð£ÐšÐ’",-1)),I.value?(b(),L("div",{key:0,ref_key:"messageRef",ref:m,class:"message-row"},W(E.value),513)):j("",!0),A("div",J,[(b(!0),L(x,null,O(n.value,(l,o)=>(b(),L("input",{ref_for:!0,ref_key:"inputRefs",ref:y,value:l,class:D(["five-letters__char",M.value[o]]),maxlength:"1",disabled:h.value||Math.floor(o/a)!==f.value,onInput:r=>F(r,o),onKeydown:[B($(K,["prevent"]),["enter"]),B($(r=>T(o),["prevent"]),["delete"])]},null,42,P))),256))]),X(z,{visible:h.value,to:"/end",text:"Ð£Ð³Ð°Ð´Ð°Ð»Ð°, Ñ‡Ñ‚Ð¾ Ð¶Ðµ Ð´Ð°Ð»ÑŒÑˆÐµ?"},null,8,["visible"])]))}}),ee=G(Q,[["__scopeId","data-v-0a88cfed"]]);export{ee as default};
