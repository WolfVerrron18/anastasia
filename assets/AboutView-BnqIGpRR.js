import{d as V,r as d,a as O,o as m,c as C,b as S,t as X,e as $,F as z,f as D,w as B,g as T,n as q,h as x,i as G,j as H,k as J,l as y,m as g,_ as P}from"./index-C6egFx2C.js";const Q={class:"five-letters"},Y={class:"five-letters__grid"},Z=["value","disabled","onInput","onKeydown"],a=5,ee=V({__name:"FiveLetters",setup(F){const w=d("Ð½Ð°ÑÑ‚Ñ"),p=d(null),k=d(null),i=d(0),l=d(Array(a*6).fill("")),h=d(!1),I=d(!1),A=d(""),E=J(()=>{const t=[],e=Math.ceil(l.value.length/a);for(let o=0;o<e;o++){const f=o*a,s=f+a,n=l.value.slice(f,s);if(o===i.value&&!h.value){t.push(...Array(n.length).fill(""));continue}const r=w.value.split(""),c=Array(n.length).fill(""),v=Array(r.length).fill(!1);n.forEach((_,u)=>{_===r[u]&&(c[u]="five-letters__char_correct",v[u]=!0)}),n.forEach((_,u)=>{if(c[u])return;const b=r.findIndex((L,j)=>L===_&&!v[j]);b!==-1?(c[u]="five-letters__char_present",v[b]=!0):c[u]="five-letters__char_absent"}),t.push(...c)}return t}),K=(t,e)=>{l.value[e]=t.target.value,l.value[e]&&e<l.value.length-1&&y(()=>{p.value[e+1]?.focus()})},N=t=>{l.value[t]="",!l.value[t]&&t>0&&y(()=>{p.value[t-1]?.focus()})},U=async t=>{await y();const e=t*a,o=e+a;p.value.slice(e,o).forEach((s,n)=>{const r=E.value[e+n];r&&(s.classList.add(r),r==="five-letters__char_correct"?g.fromTo(s,{rotateX:90},{rotateX:0,duration:.4,ease:"back.out(1.7)"}):r==="five-letters__char_present"?g.fromTo(s,{y:-10},{y:0,duration:.3,ease:"bounce.out"}):r==="five-letters__char_absent"&&g.fromTo(s,{opacity:.5},{opacity:1,duration:.3}))})},W=async()=>{if(h.value)return;const t=i.value*a,e=t+a,o=l.value.slice(t,e).join("");if(!(o.length<a)){if(o===w.value){R(M(i.value)),h.value=!0;return}await y(),U(i.value),R(M(i.value)),e>=l.value.length&&l.value.push(...Array(a).fill("")),h.value||(i.value++,await y(),p.value[i.value*a]?.focus())}},M=t=>{const e=t*a,o=e+a,f=l.value.slice(e,o),s=w.value.split(""),n=Array(s.length).fill(!1);let r=0,c=0;return f.forEach((v,_)=>{v===s[_]&&(r++,n[_]=!0)}),f.forEach((v,_)=>{if(v===s[_])return;const u=s.findIndex((b,L)=>b===v&&!n[L]);u!==-1&&(c++,n[u]=!0)}),r===a?"ðŸŽ‰ ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾! Ð¢Ñ‹ ÑƒÐ³Ð°Ð´Ð°Ð»Ð° ÑÐ²Ð¾Ñ‘ Ð¸Ð¼Ñ!":r>0&&c>0?`Ð•ÑÑ‚ÑŒ ${r} Ð½Ð° Ð¼ÐµÑÑ‚Ðµ Ð¸ ${c} Ð½Ðµ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ`:r>0?`Ð•ÑÑ‚ÑŒ ${r} Ð±ÑƒÐºÐ²Ñ‹ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ`:c>0?`Ð•ÑÑ‚ÑŒ ${c} Ð±ÑƒÐºÐ²Ñ‹ Ð² ÑÐ»Ð¾Ð²Ðµ, Ð½Ð¾ Ð½Ðµ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ`:"ÐÐ¸ Ð¾Ð´Ð½Ð¾Ð¹ Ð±ÑƒÐºÐ²Ñ‹ Ð½Ðµ ÑƒÐ³Ð°Ð´Ð°Ð½Ð¾"},R=t=>{A.value=t,I.value=!0,y(()=>{k.value&&(g.set(k.value,{y:-20,opacity:0,scale:.8}),g.to(k.value,{y:0,opacity:1,scale:1,duration:.5,ease:"back.out(1.7)"}))})};return(t,e)=>{const o=O("router-link");return m(),C("div",Q,[e[1]||(e[1]=S("h2",{class:"five-letters__title"},"5 Ð‘Ð£ÐšÐ’",-1)),I.value?(m(),C("div",{key:0,ref_key:"messageRef",ref:k,class:"message-row"},X(A.value),513)):$("",!0),S("div",Y,[(m(!0),C(z,null,D(l.value,(f,s)=>(m(),C("input",{ref_for:!0,ref_key:"inputRefs",ref:p,value:f,class:q(["five-letters__char",E.value[s]]),maxlength:"1",disabled:h.value||Math.floor(s/a)!==i.value,onInput:n=>K(n,s),onKeydown:[B(T(W,["prevent"]),["enter"]),B(T(n=>N(s),["prevent"]),["delete"])]},null,42,Z))),256))]),h.value?(m(),x(o,{key:1,class:"five-letters__button",to:"/"},{default:G(()=>[...e[0]||(e[0]=[H(" Ð˜Ð´Ñ‘Ð¼ Ð´Ð°Ð»ÑŒÑˆÐµ ",-1)])]),_:1})):$("",!0)])}}}),te=P(ee,[["__scopeId","data-v-fb22921e"]]),re=V({__name:"AboutView",setup(F){return(w,p)=>(m(),x(te))}});export{re as default};
